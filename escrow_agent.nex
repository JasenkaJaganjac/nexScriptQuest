pragma nexscript ^0.1.0;

/*
This smart contract allows secure transactions between two parties by using 
an escrow agent. The escrow agent holds the funds until the predefined
conditions are met. If the conditions are met, the funds are released to the
seller; if not, they are returned to the buyer. 

This contract is designed for use cases where trust is required between 
parties who may not know each other.

*/


contract SimpleEscrow(pubkey buyer, pubkey seller, pubkey escrowAgent) {
    
    // Releases funds to the seller when conditions are met
    function releaseToSeller(sig escrowAgentSig) {
        require(checkSig(escrowAgentSig, escrowAgent));
        transfer(seller);
    }
    
    // Returns funds to the buyer if conditions are not met
    function refundToBuyer(sig escrowAgentSig) {
        require(checkSig(escrowAgentSig, escrowAgent));
        transfer(buyer);
    }
}
